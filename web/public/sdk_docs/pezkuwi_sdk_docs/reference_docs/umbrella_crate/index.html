<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Learn about the Pezkuwi Umbrella crate that re-exports all other crates."><title>pezkuwi_sdk_docs::reference_docs::umbrella_crate - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2"href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-e56847b5.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="pezkuwi_sdk_docs" data-themes="" data-resource-suffix="" data-rustdoc-version="1.91.1 (ed61e7d7e 2025-11-07)" data-channel="1.91.1" data-search-js="search-e256b49e.js" data-stringdex-js="stringdex-c3e638e9.js" data-settings-js="settings-c38705f0.js" ><script src="../../../static.files/storage-e2aeef58.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-6dc2a7f3.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-263c88ec.css"></noscript><link rel="icon" href="https://pezkuwichain.io/favicon.ico"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><rustdoc-topbar><h2><a href="#">Module umbrella_crate</a></h2></rustdoc-topbar><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../../pezkuwi_sdk_docs/index.html">pezkuwi_<wbr>sdk_<wbr>docs</a><span class="version">0.0.1</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module umbrella_<wbr>crate</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#umbrella-crate" title="Umbrella Crate">Umbrella Crate</a><ul><li><a href="#features" title="Features">Features</a></li><li><a href="#generation" title="Generation">Generation</a></li><li><a href="#usage" title="Usage">Usage</a></li><li><a href="#dependencies" title="Dependencies">Dependencies</a></li></ul></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In pezkuwi_<wbr>sdk_<wbr>docs::<wbr>reference_<wbr>docs</a></h2></div></div></nav><div class="sidebar-resizer" title="Drag to resize sidebar"></div><main><div class="width-limiter"><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../../index.html">pezkuwi_sdk_docs</a>::<wbr><a href="../index.html">reference_docs</a></div><h1>Module <span>umbrella_<wbr>crate</span>&nbsp;<button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/pezkuwi_sdk_docs/reference_docs/umbrella_crate.rs.html#1-91">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Learn about the Pezkuwi Umbrella crate that re-exports all other crates.</p>
<h2 id="umbrella-crate"><a class="doc-anchor" href="#umbrella-crate">§</a>Umbrella Crate</h2>
<p>The Pezkuwi-SDK “umbrella” is a crate that re-exports all other published crates. This makes it
possible to have a very small <code>Cargo.toml</code> file that only has one dependency, the umbrella
crate. This helps with selecting the right combination of crate versions, since otherwise 3rd
party tools are needed to select a compatible set of versions.</p>
<h3 id="features"><a class="doc-anchor" href="#features">§</a>Features</h3>
<p>The umbrella crate supports no-std builds and can therefore be used in the runtime and node.
There are two main features: <code>runtime</code> and <code>node</code>. The <code>runtime</code> feature enables all <code>no-std</code>
crates, while the <code>node</code> feature enables all <code>std</code> crates. It should be used like any other
crate in the repo, with <code>default-features = false</code>.</p>
<p>For more fine-grained control, additionally, each crate can be enabled selectively. The umbrella
exposes one feature per dependency. For example, if you only want to use the <code>frame-support</code>
crate, you can enable the <code>frame-support</code> feature.</p>
<p>The umbrella exposes a few more general features:</p>
<ul>
<li><code>tuples-96</code>: Needs to be enabled for runtimes that have more than 64 pallets.</li>
<li><code>serde</code>: Specifically enable <code>serde</code> en/decoding support.</li>
<li><code>experimental</code>: Experimental enable experimental features - should not yet used in production.</li>
<li><code>with-tracing</code>: Enable tracing support.</li>
<li><code>try-runtime</code>, <code>runtime-benchmarks</code> and <code>std</code>: These follow the standard conventions.</li>
<li><code>runtime</code>: As described above, enable all <code>no-std</code> crates.</li>
<li><code>node</code>: As described above, enable all <code>std</code> crates.</li>
<li>There does <em>not</em> exist a dedicated docs feature. To generate docs, enable the <code>runtime</code> and
<code>node</code> feature. For <code>docs.rs</code> the manifest contains specific configuration to make it show up
all re-exports.</li>
</ul>
<p>There is a specific <a href="https://github.com/ggwpez/zepter"><code>zepter</code></a> check in place to ensure that
the features of the umbrella are correctly configured. This check is run in CI and locally when
running <code>zepter</code>.</p>
<h3 id="generation"><a class="doc-anchor" href="#generation">§</a>Generation</h3>
<p>The umbrella crate needs to be updated every time when a new crate is added or removed from the
workspace. It is checked in CI by calling its generation script. The generation script is
located in <code>./scripts/generate-umbrella.py</code> and needs dependency <code>cargo_workspace</code>.</p>
<p>Example: <code>python3 scripts/generate-umbrella.py --sdk . --version 1.9.0</code></p>
<h3 id="usage"><a class="doc-anchor" href="#usage">§</a>Usage</h3>
<blockquote>
<p>Note: You can see a live example in the <code>staging-node-cli</code> and <code>kitchensink-runtime</code> crates.</p>
</blockquote>
<p>The umbrella crate can be added to your runtime crate like this:</p>
<p><code>pezkuwi-sdk = { path = "../../../../umbrella", features = ["runtime"], default-features = false }</code></p>
<p>or for a node:</p>
<p><code>pezkuwi-sdk = { path = "../../../../umbrella", features = ["node"], default-features = false }</code></p>
<p>In the code, it is then possible to bring all dependencies into scope via:</p>
<p><code>use pezkuwi_sdk::*;</code></p>
<h4 id="known-issues"><a class="doc-anchor" href="#known-issues">§</a>Known Issues</h4>
<p>The only known issue so far is the fact that the <code>use</code> statement brings the dependencies only
into the outer module scope - not the global crate scope. For example, the following code would
need to be adjusted:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>pezkuwi_sdk::<span class="kw-2">*</span>;

<span class="kw">mod </span>foo {
   <span class="comment">// This does sadly not compile:
   </span><span class="macro">frame_support::parameter_types!</span> { }

   <span class="comment">// Instead, we need to do this (or add an equivalent `use` statement):
   </span><span class="macro">pezkuwi_sdk::frame_support::parameter_types!</span> { }
}</code></pre></div>
<p>Apart from this, no issues are known. There could be some bugs with how macros locate their own
re-exports. Please <a href="https://github.com/pezkuwichain/pezkuwi-sdk/issues">report issues</a> that arise from using this crate.</p>
<h3 id="dependencies"><a class="doc-anchor" href="#dependencies">§</a>Dependencies</h3>
<p>The umbrella crate re-exports all published crates, with a few exceptions:</p>
<ul>
<li>Runtime crates like <code>pezkuwichain-runtime</code> etc are not exported. This otherwise leads to very
weird compile errors and should not be needed anyway.</li>
<li>Example and fuzzing crates are not exported. This is currently detected by checking the name
of the crate for these magic words. In the future, it will utilize custom metadata, as it is
done in the <code>pezkuwichain-runtime</code> crate.</li>
<li>The umbrella crate itself. Should be obvious :)</li>
</ul>
</div></details></section></div></main></body></html>